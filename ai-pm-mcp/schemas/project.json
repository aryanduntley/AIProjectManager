{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "project.json",
  "title": "Project Blueprint Schema",
  "description": "Schema for project blueprint in ProjectBlueprint/blueprint.md and metadata.json",
  "type": "object",
  "properties": {
    "blueprint": {
      "type": "object",
      "description": "Schema for blueprint.md metadata (YAML frontmatter)",
      "properties": {
        "title": {
          "type": "string",
          "minLength": 1,
          "description": "Project title"
        },
        "description": {
          "type": "string",
          "minLength": 1,
          "description": "Brief project description"
        },
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Project version (semantic versioning)"
        },
        "status": {
          "type": "string",
          "enum": ["planning", "development", "testing", "production", "maintenance", "archived"],
          "description": "Current project status"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date",
          "description": "Last update date (YYYY-MM-DD)"
        },
        "approvedBy": {
          "type": "string",
          "description": "User who approved this blueprint"
        },
        "approvalDate": {
          "type": "string",
          "format": "date",
          "description": "Date when blueprint was approved"
        }
      },
      "required": ["title", "description", "version", "status"],
      "additionalProperties": false
    },
    "metadata": {
      "type": "object",
      "description": "Schema for metadata.json file",
      "properties": {
        "project": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1,
              "description": "Project name (machine-readable identifier)"
            },
            "displayName": {
              "type": "string",
              "minLength": 1,
              "description": "Human-readable project name"
            },
            "description": {
              "type": "string",
              "description": "Project description"
            },
            "version": {
              "type": "string",
              "pattern": "^\\d+\\.\\d+\\.\\d+$",
              "description": "Current project version"
            },
            "type": {
              "type": "string",
              "enum": ["web-app", "mobile-app", "api", "library", "tool", "service", "other"],
              "description": "Type of project"
            },
            "language": {
              "type": "string",
              "description": "Primary programming language"
            },
            "framework": {
              "type": "string",
              "description": "Primary framework or platform"
            }
          },
          "required": ["name", "displayName", "version", "type"],
          "additionalProperties": false
        },
        "organization": {
          "type": "object",
          "properties": {
            "author": {
              "type": "string",
              "description": "Project author or organization"
            },
            "team": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Team members"
            },
            "contact": {
              "type": "string",
              "format": "email",
              "description": "Contact email"
            },
            "repository": {
              "type": "string",
              "format": "uri",
              "description": "Repository URL"
            },
            "homepage": {
              "type": "string",
              "format": "uri",
              "description": "Project homepage"
            }
          },
          "additionalProperties": false
        },
        "technical": {
          "type": "object",
          "properties": {
            "dependencies": {
              "type": "object",
              "properties": {
                "runtime": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Runtime dependencies"
                },
                "development": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Development dependencies"
                },
                "external": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "External services or APIs"
                }
              },
              "additionalProperties": false
            },
            "architecture": {
              "type": "object",
              "properties": {
                "pattern": {
                  "type": "string",
                  "enum": ["MVC", "MVP", "MVVM", "microservices", "monolithic", "serverless", "other"],
                  "description": "Architectural pattern"
                },
                "database": {
                  "type": "string",
                  "description": "Database technology"
                },
                "deployment": {
                  "type": "string",
                  "enum": ["cloud", "on-premise", "hybrid", "edge"],
                  "description": "Deployment strategy"
                },
                "scalability": {
                  "type": "string",
                  "enum": ["single-user", "multi-user", "enterprise", "global"],
                  "description": "Scalability requirements"
                }
              },
              "additionalProperties": false
            },
            "requirements": {
              "type": "object",
              "properties": {
                "performance": {
                  "type": "object",
                  "properties": {
                    "responseTime": {
                      "type": "string",
                      "description": "Target response time (e.g., '<100ms')"
                    },
                    "throughput": {
                      "type": "string",
                      "description": "Target throughput (e.g., '1000 req/sec')"
                    },
                    "availability": {
                      "type": "string",
                      "pattern": "^\\d+(\\.\\d+)?%$",
                      "description": "Target availability (e.g., '99.9%')"
                    }
                  },
                  "additionalProperties": false
                },
                "security": {
                  "type": "object",
                  "properties": {
                    "authentication": {
                      "type": "boolean",
                      "description": "Requires user authentication"
                    },
                    "authorization": {
                      "type": "boolean",
                      "description": "Requires role-based access control"
                    },
                    "encryption": {
                      "type": "boolean",
                      "description": "Requires data encryption"
                    },
                    "compliance": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": ["GDPR", "HIPAA", "SOC2", "PCI-DSS", "other"]
                      },
                      "description": "Compliance requirements"
                    }
                  },
                  "additionalProperties": false
                },
                "compatibility": {
                  "type": "object",
                  "properties": {
                    "browsers": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Supported browsers"
                    },
                    "platforms": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Supported platforms"
                    },
                    "devices": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": ["desktop", "tablet", "mobile", "smart-tv", "other"]
                      },
                      "description": "Supported device types"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "management": {
          "type": "object",
          "properties": {
            "mcpVersion": {
              "type": "string",
              "pattern": "^\\d+\\.\\d+\\.\\d+$",
              "description": "MCP server version used to manage this project"
            },
            "createdAt": {
              "type": "string",
              "format": "date-time",
              "description": "Project creation timestamp"
            },
            "lastUpdated": {
              "type": "string",
              "format": "date-time",
              "description": "Last modification timestamp"
            },
            "configVersion": {
              "type": "string",
              "pattern": "^\\d+\\.\\d+\\.\\d+$",
              "default": "1.0.0",
              "description": "Metadata format version"
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "uniqueItems": true,
              "description": "Project tags for categorization"
            },
            "priority": {
              "type": "string",
              "enum": ["low", "medium", "high", "critical"],
              "default": "medium",
              "description": "Project priority"
            },
            "timeline": {
              "type": "object",
              "properties": {
                "startDate": {
                  "type": "string",
                  "format": "date",
                  "description": "Project start date"
                },
                "targetDate": {
                  "type": "string",
                  "format": "date",
                  "description": "Target completion date"
                },
                "milestones": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "Milestone name"
                      },
                      "targetDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Milestone target date"
                      },
                      "description": {
                        "type": "string",
                        "description": "Milestone description"
                      }
                    },
                    "required": ["name", "targetDate"],
                    "additionalProperties": false
                  },
                  "description": "Key project milestones"
                }
              },
              "additionalProperties": false
            }
          },
          "required": ["mcpVersion", "createdAt", "lastUpdated", "configVersion"],
          "additionalProperties": false
        }
      },
      "required": ["project", "management"],
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}